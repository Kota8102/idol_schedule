{"ast":null,"code":"import _regeneratorRuntime from\"/workspaces/react/myapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspaces/react/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspaces/react/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import FullCalendar from'@fullcalendar/react';import dayGridPlugin from'@fullcalendar/daygrid';import jaLocale from'@fullcalendar/core/locales/ja';import listPlugin from'@fullcalendar/list';import\"../../styles/calendar.sass\";import{jsx as _jsx}from\"react/jsx-runtime\";var Calendar=function Calendar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];useEffect(function(){// APIからJSONデータを取得\nvar fetchEvents=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://jbwg9oogwc.execute-api.ap-northeast-1.amazonaws.com/json',{method:'POST',mode:\"cors\",headers:{'Content-Type':'application/json'}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;console.log(data);setEvents(data);case 8:case\"end\":return _context.stop();}},_callee);}));return function fetchEvents(){return _ref.apply(this,arguments);};}();fetchEvents();},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FullCalendar,{plugins:[dayGridPlugin,listPlugin],initialView:\"dayGridMonth\",locales:[jaLocale],locale:\"ja\",height:\"100vh\",headerToolbar:{left:'prev today next',center:'title',right:'dayGridMonth listYear'},events:events// eventのcssを調整\n,eventDidMount:function eventDidMount(info){var event=info.event;var element=info.el;element.style.borderColor='transparent';element.classList.add('text-xs','leading-5','tracking-wide','pl-1');// group毎の色を決定\nif(event.groupId==='1'){element.style.backgroundColor='#f97316';}else if(event.groupId==='2'){element.style.backgroundColor='#84cc16';}// hober時の動作\nelement.addEventListener('mouseenter',function(e){element.style.opacity='0.6';});element.addEventListener('mouseleave',function(e){element.style.opacity='1';});}// eventのクリック時の動作\n,eventClick:function eventClick(info){window.open(info.event.url,\"_blank\");}})});};export default Calendar;","map":{"version":3,"names":["React","useState","useEffect","FullCalendar","dayGridPlugin","jaLocale","listPlugin","Calendar","events","setEvents","fetchEvents","fetch","method","mode","headers","res","json","data","console","log","left","center","right","info","event","element","el","style","borderColor","classList","add","groupId","backgroundColor","addEventListener","e","opacity","window","open","url"],"sources":["/workspaces/react/myapp/src/component/atom/calendar.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport jaLocale from '@fullcalendar/core/locales/ja';\nimport listPlugin from '@fullcalendar/list';\n\nimport \"../../styles/calendar.sass\"\n\nconst Calendar: React.FC = (): JSX.Element => {\n\n    const [events, setEvents] = useState([]);\n    useEffect(() => {\n        // APIからJSONデータを取得\n        const fetchEvents = async () => {\n          const res = await fetch('https://jbwg9oogwc.execute-api.ap-northeast-1.amazonaws.com/json', {\n            method: 'POST',\n            mode: \"cors\",\n            headers: {\n              'Content-Type': 'application/json',\n            },\n          });\n          const data = await res.json();\n          console.log(data);\n          setEvents(data);\n        };\n        fetchEvents();\n      }, []);\n\n    return (\n      <div>\n        <FullCalendar\n            plugins={[dayGridPlugin, listPlugin]}\n            initialView=\"dayGridMonth\"\n            locales={[jaLocale]}\n            locale=\"ja\"\n            height={\"100vh\"}\n            headerToolbar={\n                { left: 'prev today next', center: 'title', right: 'dayGridMonth listYear'}\n            }\n            events={events}\n\n            // eventのcssを調整\n            eventDidMount={(info) => {\n                const event = info.event;\n                const element = info.el;\n\n                element.style.borderColor = 'transparent';\n                element.classList.add('text-xs', 'leading-5', 'tracking-wide', 'pl-1',);\n                \n                // group毎の色を決定\n                if (event.groupId === '1') {\n                    element.style.backgroundColor = '#f97316';\n                  } else if (event.groupId === '2') {\n                    element.style.backgroundColor = '#84cc16';\n                }\n                \n                // hober時の動作\n                element.addEventListener('mouseenter', (e) => {\n                    element.style.opacity = '0.6';\n                });\n                element.addEventListener('mouseleave', (e) => {\n                    element.style.opacity = '1';\n                });\n              }}\n              \n            // eventのクリック時の動作\n            eventClick={info => {\n                window.open(info.event.url, \"_blank\");\n              }}\n        />\n      </div>\n    );\n  }\n  \n  export default Calendar;\n  "],"mappings":"uVAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,aAAY,KAAM,qBAAqB,CAC9C,MAAOC,cAAa,KAAM,uBAAuB,CACjD,MAAOC,SAAQ,KAAM,+BAA+B,CACpD,MAAOC,WAAU,KAAM,oBAAoB,CAE3C,MAAO,4BAA4B,4CAEnC,GAAMC,SAAkB,CAAG,QAArBA,SAAkB,EAAsB,CAE1C,cAA4BN,QAAQ,CAAC,EAAE,CAAC,wCAAjCO,MAAM,eAAEC,SAAS,eACxBP,SAAS,CAAC,UAAM,CACZ;AACA,GAAMQ,YAAW,4FAAG,uKACAC,MAAK,CAAC,kEAAkE,CAAE,CAC1FC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAE,MAAM,CACZC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,QANIC,GAAG,qCAOUA,IAAG,CAACC,IAAI,EAAE,QAAvBC,IAAI,eACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CACjBR,SAAS,CAACQ,IAAI,CAAC,CAAC,qDACjB,kBAXKP,YAAW,0CAWhB,CACDA,WAAW,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CAER,mBACE,kCACE,KAAC,YAAY,EACT,OAAO,CAAE,CAACN,aAAa,CAAEE,UAAU,CAAE,CACrC,WAAW,CAAC,cAAc,CAC1B,OAAO,CAAE,CAACD,QAAQ,CAAE,CACpB,MAAM,CAAC,IAAI,CACX,MAAM,CAAE,OAAQ,CAChB,aAAa,CACT,CAAEe,IAAI,CAAE,iBAAiB,CAAEC,MAAM,CAAE,OAAO,CAAEC,KAAK,CAAE,uBAAuB,CAC7E,CACD,MAAM,CAAEd,MAER;AAAA,CACA,aAAa,CAAE,uBAACe,IAAI,CAAK,CACrB,GAAMC,MAAK,CAAGD,IAAI,CAACC,KAAK,CACxB,GAAMC,QAAO,CAAGF,IAAI,CAACG,EAAE,CAEvBD,OAAO,CAACE,KAAK,CAACC,WAAW,CAAG,aAAa,CACzCH,OAAO,CAACI,SAAS,CAACC,GAAG,CAAC,SAAS,CAAE,WAAW,CAAE,eAAe,CAAE,MAAM,CAAE,CAEvE;AACA,GAAIN,KAAK,CAACO,OAAO,GAAK,GAAG,CAAE,CACvBN,OAAO,CAACE,KAAK,CAACK,eAAe,CAAG,SAAS,CAC3C,CAAC,IAAM,IAAIR,KAAK,CAACO,OAAO,GAAK,GAAG,CAAE,CAChCN,OAAO,CAACE,KAAK,CAACK,eAAe,CAAG,SAAS,CAC7C,CAEA;AACAP,OAAO,CAACQ,gBAAgB,CAAC,YAAY,CAAE,SAACC,CAAC,CAAK,CAC1CT,OAAO,CAACE,KAAK,CAACQ,OAAO,CAAG,KAAK,CACjC,CAAC,CAAC,CACFV,OAAO,CAACQ,gBAAgB,CAAC,YAAY,CAAE,SAACC,CAAC,CAAK,CAC1CT,OAAO,CAACE,KAAK,CAACQ,OAAO,CAAG,GAAG,CAC/B,CAAC,CAAC,CACJ,CAEF;AAAA,CACA,UAAU,CAAE,oBAAAZ,IAAI,CAAI,CAChBa,MAAM,CAACC,IAAI,CAACd,IAAI,CAACC,KAAK,CAACc,GAAG,CAAE,QAAQ,CAAC,CACvC,CAAE,EACN,EACE,CAEV,CAAC,CAED,cAAe/B,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}