{"ast":null,"code":"import _regeneratorRuntime from\"/workspaces/react/myapp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/workspaces/react/myapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/workspaces/react/myapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from'react';import FullCalendar from'@fullcalendar/react';import dayGridPlugin from'@fullcalendar/daygrid';import jaLocale from'@fullcalendar/core/locales/ja';import listPlugin from'@fullcalendar/list';import CheckboxContext from'../../contexts/CheckboxContext';import\"../../styles/calendar.sass\";import{jsx as _jsx}from\"react/jsx-runtime\";var Calendar=function Calendar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar _useContext=useContext(CheckboxContext),checkList=_useContext.checkList,setCheckList=_useContext.setCheckList,groupidList=_useContext.groupidList,setGroupidList=_useContext.setGroupidList;useEffect(function(){// APIからJSONデータを取得\nvar fetchEvents=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://jbwg9oogwc.execute-api.ap-northeast-1.amazonaws.com/json',{method:'POST',mode:\"cors\",headers:{'Content-Type':'application/json'}});case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;setEvents(data);case 7:case\"end\":return _context.stop();}},_callee);}));return function fetchEvents(){return _ref.apply(this,arguments);};}();fetchEvents();},[]);var filterevents=events.filter(function(info){return groupidList.includes(info.groupId);});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FullCalendar,{plugins:[dayGridPlugin,listPlugin],initialView:\"dayGridMonth\",locales:[jaLocale],locale:\"ja\",contentHeight:\"auto\",headerToolbar:{left:'prev today next',center:'title',right:'dayGridMonth listMonth'},businessHours:{daysOfWeek:[1,2,3,4,5]},events:filterevents// eventのcssを調整\n,eventDidMount:function eventDidMount(info){var event=info.event;var element=info.el;element.style.borderColor='transparent';element.classList.add('text-xs','leading-5','tracking-wide','pl-1');// group毎の色を決定\nif(event.groupId==='1'){element.style.backgroundColor='#a855f7';}else if(event.groupId==='2'){element.style.backgroundColor='#059669';}else if(event.groupId==='3'){element.style.backgroundColor='#f43f5e';}// hober時の動作\nelement.addEventListener('mouseenter',function(){element.style.opacity='0.6';});element.addEventListener('mouseleave',function(){element.style.opacity='1';});}// eventのクリック時の動作\n,eventClick:function eventClick(info){window.open(info.event.url,\"_self\");// window.open(info.event.url, \"_blank\");\n}})});};export default Calendar;","map":{"version":3,"names":["React","useState","useEffect","useContext","FullCalendar","dayGridPlugin","jaLocale","listPlugin","CheckboxContext","Calendar","events","setEvents","checkList","setCheckList","groupidList","setGroupidList","fetchEvents","fetch","method","mode","headers","res","json","data","filterevents","filter","info","includes","groupId","left","center","right","daysOfWeek","event","element","el","style","borderColor","classList","add","backgroundColor","addEventListener","opacity","window","open","url"],"sources":["/workspaces/react/myapp/src/component/molecule/calendar.tsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport jaLocale from '@fullcalendar/core/locales/ja';\nimport listPlugin from '@fullcalendar/list';\n\nimport CheckboxContext from '../../contexts/CheckboxContext';\n\nimport \"../../styles/calendar.sass\"\n\nconst Calendar: React.FC = (): JSX.Element => {\n\n    const [events, setEvents] = useState([]);\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { checkList, setCheckList, groupidList, setGroupidList } = useContext(CheckboxContext);\n\n    useEffect(() => {\n        // APIからJSONデータを取得\n        const fetchEvents = async () => {\n          const res = await fetch('https://jbwg9oogwc.execute-api.ap-northeast-1.amazonaws.com/json', {\n            method: 'POST',\n            mode: \"cors\",\n            headers: {\n              'Content-Type': 'application/json',\n            },\n          });\n          const data = await res.json();\n\n          setEvents(data);\n        };\n        fetchEvents();\n      }, []);\n\n      const filterevents = events.filter((info: { groupId: string; }) => {\n        return groupidList.includes(info.groupId);\n      });\n      \n    return (\n      <div>\n        <FullCalendar\n            plugins={[dayGridPlugin, listPlugin]}\n            initialView=\"dayGridMonth\"\n            locales={[jaLocale]}\n            locale=\"ja\"\n            contentHeight={\"auto\"}\n            headerToolbar={\n                { left: 'prev today next', center: 'title', right: 'dayGridMonth listMonth'}\n            }\n            businessHours={{ daysOfWeek: [1, 2, 3, 4, 5] }}\n            events={filterevents}\n\n            // eventのcssを調整\n            eventDidMount={(info) => {\n                const event = info.event;\n                const element = info.el;\n\n                element.style.borderColor = 'transparent';\n                element.classList.add('text-xs', 'leading-5', 'tracking-wide', 'pl-1',);\n                \n                // group毎の色を決定\n                if (event.groupId === '1') {\n                    element.style.backgroundColor = '#a855f7';\n                  } else if (event.groupId === '2') {\n                    element.style.backgroundColor = '#059669';\n                } else if (event.groupId === '3') {\n                  element.style.backgroundColor = '#f43f5e';\n                }\n                \n                // hober時の動作\n                element.addEventListener('mouseenter', () => {\n                    element.style.opacity = '0.6';\n                });\n                element.addEventListener('mouseleave', () => {\n                    element.style.opacity = '1';\n                });\n              }}\n              \n            // eventのクリック時の動作\n            eventClick={info => {\n                window.open(info.event.url, \"_self\");\n                // window.open(info.event.url, \"_blank\");\n              }}\n        />\n\n      </div>\n    );\n  }\n  \n  export default Calendar;\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}